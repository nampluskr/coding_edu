### 그림판

```cpp
// pos 위치변수로 mCode의 앞에서부터 순차적으로 디코딩/인코딩

// 인코딩 길이는 1회 분할 시마다 5씩 고정적으로 증가



#include <queue>

using namespace std;



char str[200'001];

bool board[512][512];

int NN, pos, cnt;



void mDecode(int x, int y, int len)

{

	while (str[pos] == ')') pos++;



	if (str[pos] == '(') {

		pos++;

		mDecode(x, y, len / 2);

		pos++;

		mDecode(x, y + len / 2, len / 2);

		pos++;

		mDecode(x + len / 2, y, len / 2);

		pos++;

		mDecode(x + len / 2, y + len / 2, len / 2);

	}

	else {

		bool target = str[pos] == '1' ? 1 : 0;

		for (int i = x; i < x + len; i++)

			for (int j = y; j < y + len; j++)

				board[i][j] = target;

	}

}



void mEncode(int x, int y, int len)

{

	bool isunif = true;

	bool target = board[x][y];



	for (int i = x; i < x + len; i++) {

		for (int j = y; j < y + len; j++)

			if (board[i][j] != target) {

				isunif = false; break;

			}

		if (!isunif) break;

	}



	if (!isunif) {

		str[pos++] = '(';

		mEncode(x, y, len / 2);

		pos++;

		mEncode(x, y + len / 2, len / 2);

		pos++;

		mEncode(x + len / 2, y, len / 2);

		pos++;

		mEncode(x + len / 2, y + len / 2, len / 2);

		str[++pos] = ')';

		cnt += 5;

	}

	else str[pos] = target ? '1' : '0';

}



void init(int N, int L, char mCode[])

{

	NN = N;

	pos = 0;

	for (int i = 0; i < L; i++) str[i] = mCode[i];

	mDecode(0, 0, NN);

}



int encode(char mCode[])

{

	pos = 0;

	cnt = 1;

	mEncode(0, 0, NN);

	for (int i = 0; i < cnt; i++) mCode[i] = str[i];

	return cnt;

}



void makeDot(int mR, int mC, int mSize, int mColor)   // 9 by 9 영역만 전체탐색

{

	for (int i = max(0, mR - mSize + 1); i < min(NN, mR + mSize); i++)

		for (int j = max(0, mC - mSize + 1); j < min(NN, mC + mSize); j++)

			if (abs(i - mR) + abs(j - mC) < mSize) board[i][j] = mColor;

}



void paint(int mR, int mC, int mColor)    // BFS

{

	if (board[mR][mC] == (bool)mColor) return;



	int dx[] = { -1, 1, 0, 0 };

	int dy[] = { 0, 0, -1, 1 };



	queue<pair<int, int>> que;

	que.push({ mR, mC });

	board[mR][mC] = mColor;



	while (!que.empty()) {

		pair<int, int> A = que.front();

		que.pop();



		for (int k = 0; k < 4; k++) {

			int x = A.first + dx[k];

			int y = A.second + dy[k];

			if (x < 0 || y < 0 || x >= NN || y >= NN) continue;

			if (board[x][y] != (bool)mColor) {

				board[x][y] = mColor;

				que.push({ x, y });

			}

		}

	}

}



int getColor(int mR, int mC)

{

	return board[mR][mC];

}
```
